<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 
Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">

<ui:composition template="base.xhtml">
	<ui:define name="header">
		<h:outputStylesheet name="css/fileinput.css" />
		<h:outputScript name="js/fileinput.js" />
	</ui:define>
		
	<ui:define name="content">
		<h:panelGroup layout="block"
			rendered="#{activeUserService.activeUser != null and activeUserService.activeUser.manager}"
			id="register" class="panel panel-default col-md-5 col-md-offset-3">
			<h1 jsf:rendered="#{createEventForm.eventToEdit == null}">Event anlegen</h1>
			<h1 jsf:rendered="#{createEventForm.eventToEdit != null}">Event bearbeiten</h1>
			<h:form class="form-horizontal" id="createEventForm" enctype="multipart/form-data">
				<div class="form-group">
					<div class="col-md-12">
						<h:inputText class="form-control" id="eventName"
							value="#{createEventForm.eventName}" a:placeholder="Event-Name">
							<f:validator validatorId="eventNameValidator" />
						</h:inputText>
						<div class="error">
							<h:message for="eventName" showSummary="true" showDetail="false"
								class="alert alert-danger error"></h:message>
						</div>
					</div>
				</div>
				<div class="form-group">
					<div class="col-md-6">
						<h:inputText a:type="date" class="form-control" id="eventDate"
							binding="#{createEventForm.component}"
							value="#{createEventForm.eventDate}" a:placeholder="Datum">
							<f:validator validatorId="dateValidator"/>
						</h:inputText>
						<div class="error">
							<h:message for="eventDate" showSummary="true" showDetail="false"
								class="alert alert-danger error"></h:message>
						</div>
					</div>
					<div class="col-md-6">
						<h:inputText a:type="time" class="form-control" id="eventTime"
							value="#{createEventForm.eventTime}" a:placeholder="Start-Zeit">
							<f:validator validatorId="timeValidator"/>
						</h:inputText>
						<div class="error">
							<h:message for="eventTime" showSummary="true" showDetail="false"
								class="alert alert-danger error"></h:message>
						</div>
					</div>
				</div>
				<div class="form-group">
					<div class="col-md-12">
						<h:inputTextarea rows="5" class="form-control"
							id="eventDescription" value="#{createEventForm.eventDescription}"
							a:placeholder="Event-Beschreibung" style="resize: none">
							<f:validator validatorId="eventDescriptionValidator" />
						</h:inputTextarea>
						<div class="error">
							<h:message for="eventDescription" showSummary="true"
								showDetail="false" class="alert alert-danger error"></h:message>
						</div>
					</div>
				</div>
				<div class="form-group">
					<div class="col-md-8">
						<h:inputText class="form-control" id="eventStreet"
							value="#{createEventForm.street}" a:placeholder="Straße">
							<f:validator validatorId="streetValidator" />
						</h:inputText>
						<div class="error">
							<h:message for="eventStreet" showSummary="true"
								showDetail="false" class="alert alert-danger error"></h:message>
						</div>
					</div>
					<div class="col-md-4">
						<h:inputText class="form-control" id="eventHousenumber"
							value="#{createEventForm.housenumber}" a:placeholder="Hausnummer">
							<f:validator validatorId="housenumberValidator" />
						</h:inputText>
						<div class="error">
							<h:message for="eventHousenumber" showSummary="true"
								showDetail="false" class="alert alert-danger error"></h:message>
						</div>
					</div>
				</div>
				<div class="form-group">
					<div class="col-md-4">
						<h:inputText class="form-control" id="eventZip"
							value="#{createEventForm.zip}" a:placeholder="PLZ">
							<f:validator validatorId="zipValidator" />
						</h:inputText>
						<div class="error">
							<h:message for="eventZip" showSummary="true" showDetail="false"
								class="alert alert-danger error"></h:message>
						</div>
					</div>
					<div class="col-md-8">
						<h:inputText class="form-control" id="eventCity"
							value="#{createEventForm.city}" a:placeholder="Stadt">
							<f:validator validatorId="cityValidator" />
						</h:inputText>
						<div class="error">
							<h:message for="eventCity" showSummary="true" showDetail="false"
								class="alert alert-danger error"></h:message>
						</div>
					</div>
				</div>
				<div class="form-group">
					<div class="col-md-12">
						<h:inputText class="form-control" id="eventLocation"
							value="#{createEventForm.location}" a:placeholder="Adresszusatz">
							<f:validator validatorId="locationValidator" />
						</h:inputText>
						<div class="error">
							<h:message for="eventLocation" showSummary="true"
								showDetail="false" class="alert alert-danger error"></h:message>
						</div>
					</div>
				</div>
				<div class="form-group">
					<div class="col-md-6">
						<h:inputText class="form-control" id="eventTicketsNormal"
							value="#{createEventForm.amountTicketsNormal}"
							a:placeholder="Anzahl Parkett-Plätze">
							<f:validator validatorId="amountTicketsValidator" />
						</h:inputText>
						<div class="error">
							<h:message for="eventTicketsNormal" showSummary="true"
								showDetail="false" class="alert alert-danger error"></h:message>
						</div>
					</div>
					<div class="col-md-6">
						<h:inputText class="form-control" id="eventPriceNormal"
							value="#{createEventForm.priceTicketsNormal}"
							a:placeholder="Preis Parkett">
							<f:converter converterId="moneyConverter" />
							<f:validator validatorId="priceTicketsValidator" />
						</h:inputText>
						<div class="error">
							<h:message for="eventPriceNormal" showSummary="true"
								showDetail="false" class="alert alert-danger error"></h:message>
						</div>
					</div>
				</div>
				<div class="form-group">
					<div class="col-md-6">
						<h:inputText class="form-control" id="eventTicketsPremium"
							value="#{createEventForm.amountTicketsPremium}"
							a:placeholder="Anzahl Loge-Plätze">
							<f:validator validatorId="amountTicketsValidator" />
						</h:inputText>
						<div class="error">
							<h:message for="eventTicketsPremium" showSummary="true"
								showDetail="false" class="alert alert-danger error"></h:message>
						</div>
					</div>
					<div class="col-md-6">
						<h:inputText class="form-control" id="eventPricePremium"
							value="#{createEventForm.priceTicketsPremium}"
							a:placeholder="Preis Loge">
							<f:converter converterId="moneyConverter" />
							<f:validator validatorId="priceTicketsValidator" />
						</h:inputText>
						<div class="error">
							<h:message for="eventPricePremium" showSummary="true"
								showDetail="false" class="alert alert-danger error"></h:message>
						</div>
					</div>
					<div class="col-md-12">
						<h:outputLabel class="control-label">Datei auswählen</h:outputLabel>
						<h:inputFile id="eventPicture" value="#{createEventForm.file}" accept="image/x-png, image/gif, image/jpeg, image/svg" class="file">
							<f:validator validatorId="fileUploadValidator" />
						</h:inputFile>
						<div class="error">
							<h:message for="eventPicture" showSummary="true"
								showDetail="false" class="alert alert-danger error"></h:message>
						</div>
					</div>
					<div class="form-group">
						<div class="col-md-12">
							<h:selectBooleanCheckbox class="checkbox" id="eventPublish"
								value="#{createEventForm.publish}" />
							Direkt veröffentlichen
						</div>
					</div>
				</div>
				<div class="form-group">
					<!-- Andere Button-Captions, wenn das Event bearbeitet oder angelegt werden soll -->
					<div class="btn-toolbar pull-right" jsf:rendered="#{createEventForm.eventToEdit == null}">
						<h:commandButton class="btn btn-success"
							action="#{createEventForm.create}"
							value="Veranstaltung erstellen"/>
						<h:commandButton class="btn btn-danger"
							action="#{createEventForm.cancel}" value="Anlegen abbrechen" immediate="true"/>
					</div>
					<div class="btn-toolbar pull-right" jsf:rendered="#{createEventForm.eventToEdit != null}">
						<h:commandButton class="btn btn-success"
							action="#{createEventForm.create}"
							value="Veranstaltung bearbeiten"/>
						<h:commandButton class="btn btn-danger"
							action="#{createEventForm.cancel}" value="Bearbeitung abbrechen" immediate="true"/>
					</div>
				</div>
			</h:form>
		</h:panelGroup>
	</ui:define>
</ui:composition>
</html>
